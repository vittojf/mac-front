(this.webpackJsonpMac=this.webpackJsonpMac||[]).push([[53],{1034:function(e,t,n){"use strict";n.r(t);var r=n(22),a=n(15),c=n(12),s=n.n(c),i=n(0),u=n(36),l=n(142),o=n(473),j=n(547),d=n(932),b=n(550),h=n(665),x=n(555),p=n(23),O=n(88),f=n(548),v=n(528),m=n(670),g=n(671),w=n(545),k=n(1036),y=n(1040),C=n(1038),P=n(1039),S=n(1037),A=n(536),I=n(1022),D=n(580),z=n(144),E=n(213),L=n(1),M=["customers"],R=[{label:"DNI",value:"updatedAt|desc"},{label:"Nombre",value:"updatedAt|asc"}],W=function(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0},N=function(e,t){var n=t.split("|"),r=Object(a.a)(n,2),c=r[0],s=function(e,t){return"desc"===e?function(e,n){return W(e,n,t)}:function(e,n){return-W(e,n,t)}}(r[1],c),i=e.map((function(e,t){return[e,t]}));return i.sort((function(e,t){var n=s(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),i.map((function(e){return e[0]}))},B=function(e){var t=e.customers,n=Object(O.a)(e,M),r=Object(i.useState)([]),c=Object(a.a)(r,2),s=c[0],l=c[1],j=Object(i.useState)(0),d=Object(a.a)(j,2),b=d[0],h=d[1],W=Object(i.useState)(5),B=Object(a.a)(W,2),J=B[0],T=B[1],U=Object(i.useState)(""),_=Object(a.a)(U,2),F=_[0],H=_[1],V=R[0].value,q=Object(i.useState)({hasAcceptedMarketing:null,isProspect:null,isReturning:null}),G=Object(a.a)(q,1)[0],K=function(e,t,n){return e.filter((function(e){var r=!0;if(t){var a=!1;["dni","name"].forEach((function(n){e[n].toLowerCase().includes(t.toLowerCase())&&(a=!0)})),a||(r=!1)}return Object.keys(n).forEach((function(t){var a=n[t];a&&e[t]!==a&&(r=!1)})),r}))}(t,F,G),Q=function(e,t,n){return e.slice(t*n,t*n+n)}(N(K,V),b,J),X=s.length>0,Y=s.length>0&&s.length<t.length,Z=s.length===t.length;return Object(L.jsxs)(f.a,Object(p.a)(Object(p.a)({},n),{},{children:[Object(L.jsx)(o.a,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1,p:2},children:Object(L.jsx)(o.a,{sx:{m:1,maxWidth:"100%",width:500},children:Object(L.jsx)(v.a,{fullWidth:!0,InputProps:{startAdornment:Object(L.jsx)(m.a,{position:"start",children:Object(L.jsx)(D.a,{fontSize:"small"})})},onChange:function(e){H(e.target.value)},placeholder:"Buscar...",value:F,variant:"outlined"})})}),X&&Object(L.jsx)(o.a,{sx:{position:"relative"},children:Object(L.jsxs)(o.a,{sx:{backgroundColor:"background.paper",mt:"6px",position:"absolute",px:"4px",width:"100%",zIndex:2},children:[Object(L.jsx)(g.a,{checked:Z,color:"primary",indeterminate:Y,onChange:function(e){l(e.target.checked?t.map((function(e){return e.id})):[])}}),Object(L.jsx)(w.a,{color:"primary",sx:{ml:2},variant:"outlined",children:"Delete"}),Object(L.jsx)(w.a,{color:"primary",sx:{ml:2},variant:"outlined",children:"Edit"})]})}),Object(L.jsx)(E.a,{children:Object(L.jsx)(o.a,{sx:{minWidth:700},children:Object(L.jsxs)(k.a,{children:[Object(L.jsx)(y.a,{children:Object(L.jsxs)(C.a,{children:[Object(L.jsx)(P.a,{children:"Nombre"}),Object(L.jsx)(P.a,{children:"Apellido"}),Object(L.jsx)(P.a,{children:"DNI"}),Object(L.jsx)(P.a,{children:"Direcci\xf3n"}),Object(L.jsx)(P.a,{children:"Tel\xe9fono"}),Object(L.jsx)(P.a,{children:"Cod. Postal"})]})}),Object(L.jsx)(S.a,{children:Q.map((function(e){var t=s.includes(e.id);return Object(L.jsxs)(C.a,{hover:!0,selected:t,children:[Object(L.jsx)(P.a,{children:Object(L.jsxs)(o.a,{sx:{alignItems:"center",display:"flex"},children:[Object(L.jsx)(A.a,{sx:{height:42,width:42},children:Object(z.a)(e.name)}),Object(L.jsx)(o.a,{sx:{ml:1},children:Object(L.jsx)(x.a,{color:"inherit",component:u.b,to:"/dashboard/taller/clientes/detalles/".concat(e.id),variant:"subtitle2",children:e.name})})]})}),Object(L.jsx)(P.a,{children:"".concat(e.lastname)}),Object(L.jsx)(P.a,{children:"".concat(e.dni)}),Object(L.jsx)(P.a,{children:e.direction}),Object(L.jsx)(P.a,{children:e.phones[0]}),Object(L.jsx)(P.a,{children:e.zipcode}),Object(L.jsx)(P.a,{align:"right"})]},e.id)}))})]})})}),Object(L.jsx)(I.a,{component:"div",count:K.length,onPageChange:function(e,t){h(t)},onRowsPerPageChange:function(e){T(parseInt(e.target.value,10))},page:b,rowsPerPage:J,rowsPerPageOptions:[5,10,25]})]}))},J=n(89),T=n(217),U=n(216),_=n(141),F=n(900);t.default=function(){var e=new F.a,t=Object(J.a)(),n=Object(U.a)().settings,c=Object(i.useState)([]),p=Object(a.a)(c,2),O=p[0],f=p[1];Object(i.useEffect)((function(){_.a.push({event:"page_view"})}),[]);var v=Object(i.useCallback)(Object(r.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getAllClients();case 3:n=t.sent,f(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[t]);return Object(i.useEffect)((function(){v()}),[v]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(l.a,{children:Object(L.jsx)("title",{children:"Dashboard: Clientes | Mac "})}),Object(L.jsx)(o.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:8},children:Object(L.jsxs)(j.a,{maxWidth:!!n.compact&&"xl",children:[Object(L.jsx)(d.a,{container:!0,justifyContent:"space-between",spacing:3,children:Object(L.jsxs)(d.a,{item:!0,children:[Object(L.jsx)(b.a,{color:"textPrimary",variant:"h5",children:"Lista de Clientes"}),Object(L.jsxs)(h.a,{"aria-label":"breadcrumb",separator:Object(L.jsx)(T.a,{fontSize:"small"}),sx:{mt:1},children:[Object(L.jsx)(x.a,{color:"textPrimary",component:u.b,to:"/dashboard",variant:"subtitle2",children:"Dashboard"}),Object(L.jsx)(b.a,{color:"textSecondary",variant:"subtitle2",children:"Listado de Clientes"})]})]})}),Object(L.jsx)(o.a,{sx:{mt:3},children:Object(L.jsx)(B,{customers:O})})]})})]})}},580:function(e,t,n){"use strict";var r=n(31),a=n(1),c=Object(r.a)(Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(a.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search");t.a=c},900:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(22),a=n(19),c=n(18),s=n(12),i=n.n(s),u=n(219),l=n.n(u),o=n(145),j=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"ws",get:function(){var e=new o.a;return l.a.create({baseURL:e.URL_DEV,headers:e.headerToken()})}},{key:"getAllClients",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/clients",e.next=3,this.ws.get("/clients");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getClientById",value:function(){var e=Object(r.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/clients/".concat(t),e.next=3,this.ws.get(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateClient",value:function(){var e=Object(r.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/clients/".concat(t),e.next=3,this.ws.put(r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createClient",value:function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/clients",e.next=3,this.ws.post("/clients",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeClient",value:function(){var e=Object(r.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/clients/".concat(t),e.next=3,this.ws.delete(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()}}]);
//# sourceMappingURL=53.1fa153ac.chunk.js.map