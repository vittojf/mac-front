(this.webpackJsonpMac=this.webpackJsonpMac||[]).push([[38],{1030:function(e,t,a){"use strict";a.r(t);var r=a(22),n=a(15),c=a(12),s=a.n(c),i=a(0),o=a(36),l=a(142),u=a(473),d=a(547),b=a(932),j=a(550),p=a(665),h=a(555),v=a(1019),O=a(1041),f=a(89),m=a(217),x=a(216),g=a(141),y=a(23),w=a(88),S=a(143),C=a(548),P=a(528),k=a(670),R=a(1036),E=a(1040),A=a(1038),M=a(1039),I=a(1037),L=a(536),D=a(545),B=a(1022),_=a(580),z=a(144),T=a(213),N=a(898),U=a(1),V=["customers"],W=[{label:"M\xe1s recientes",value:"updatedAt|desc"},{label:"Menos recientes",value:"updatedAt|asc"},{label:"Total",value:"orders|desc"},{label:"Total",value:"orders|asc"}],H=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},F=function(e,t){var a=t.split("|"),r=Object(n.a)(a,2),c=r[0],s=function(e,t){return"desc"===e?function(e,a){return H(e,a,t)}:function(e,a){return-H(e,a,t)}}(r[1],c),i=e.map((function(e,t){return[e,t]}));return i.sort((function(e,t){var a=s(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),i.map((function(e){return e[0]}))},J=function(e){var t=e.customers,a=Object(w.a)(e,V),r=[],c=Object(i.useState)(0),s=Object(n.a)(c,2),l=s[0],d=s[1],b=Object(i.useState)(5),p=Object(n.a)(b,2),v=p[0],O=p[1],f=Object(i.useState)(""),m=Object(n.a)(f,2),x=m[0],g=m[1],H=new N.a,J=Object(i.useState)(W[0].value),q=Object(n.a)(J,2),G=q[0],K=q[1],Q=Object(i.useState)({hasAcceptedMarketing:null,isProspect:null,isReturning:null}),X=Object(n.a)(Q,1)[0],Y=function(e,t,a){return e.filter((function(e){var r=!0;if(t){var n=!1;["brand_name","client_name","model_name","tag"].forEach((function(a){e[a].toLowerCase().includes(t.toLowerCase())&&(n=!0)})),n||(r=!1)}return Object.keys(a).forEach((function(t){var n=a[t];n&&e[t]!==n&&(r=!1)})),r}))}(t,x,X),Z=function(e,t,a){return e.slice(t*a,t*a+a)}(F(Y,G),l,v);return Object(U.jsxs)(C.a,Object(y.a)(Object(y.a)({},a),{},{children:[Object(U.jsxs)(u.a,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1,p:2},children:[Object(U.jsx)(u.a,{sx:{m:1,maxWidth:"100%",width:500},children:Object(U.jsx)(P.a,{fullWidth:!0,InputProps:{startAdornment:Object(U.jsx)(k.a,{position:"start",children:Object(U.jsx)(_.a,{fontSize:"small"})})},onChange:function(e){g(e.target.value)},placeholder:"Buscar...",value:x,variant:"outlined"})}),Object(U.jsx)(u.a,{sx:{m:1,width:240},children:Object(U.jsx)(P.a,{label:"Ordenar Por",name:"sort",onChange:function(e){K(e.target.value)},select:!0,SelectProps:{native:!0},value:G,variant:"outlined",children:W.map((function(e){return Object(U.jsx)("option",{value:e.value,children:e.label},e.value)}))})})]}),Object(U.jsx)(T.a,{children:Object(U.jsx)(u.a,{sx:{minWidth:700},children:Object(U.jsxs)(R.a,{children:[Object(U.jsx)(E.a,{children:Object(U.jsxs)(A.a,{children:[Object(U.jsx)(M.a,{children:"Nombre"}),Object(U.jsx)(M.a,{children:"Estado"}),Object(U.jsx)(M.a,{children:"Email"}),Object(U.jsx)(M.a,{children:"Username"}),Object(U.jsx)(M.a,{align:"right",children:"Acciones"})]})}),Object(U.jsx)(I.a,{children:Z.map((function(e){var t=r.includes(e.id);return Object(U.jsxs)(A.a,{hover:!0,selected:t,children:[Object(U.jsx)(M.a,{children:Object(U.jsxs)(u.a,{sx:{alignItems:"center",display:"flex"},children:[Object(U.jsx)(L.a,{src:e.image,sx:{height:42,width:42},children:Object(z.a)(e.name)}),Object(U.jsxs)(u.a,{sx:{ml:1},children:[Object(U.jsx)(h.a,{color:"inherit",component:o.b,to:"/dashboard/taller/vehiculos/detalles/".concat(e.id),variant:"subtitle2",children:e.name}),Object(U.jsx)(j.a,{color:"textSecondary",variant:"body2",children:e.lastname})]})]})}),Object(U.jsx)(M.a,{children:"".concat(e.status_id)}),Object(U.jsx)(M.a,{children:"".concat(e.email)}),Object(U.jsx)(M.a,{children:e.username}),Object(U.jsx)(M.a,{align:"right",children:"REV"===e.status_id&&Object(U.jsx)(D.a,{color:"primary",sx:{m:1},component:o.b,variant:"contained",to:"/dashboard/drivers",onClick:function(){var t;t=e.id,H.updateStatusDriver(t,{status_id:"ACT"}).then((function(){S.b.success("Driver aceptado!")})).catch((function(e){S.b.error("Ha ocurrido un error!"),console.log(e)}))},children:"Aceptar Driver"})})]},e.id)}))})]})})}),Object(U.jsx)(B.a,{component:"div",count:Y.length,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){O(parseInt(e.target.value,10))},page:l,rowsPerPage:v,rowsPerPageOptions:[5,10,25]})]}))},q=[{label:"Activos",value:"activos"},{label:"Inactivos",value:"inactivos"},{label:"Solicitudes",value:"solicitudes"}];t.default=function(){var e=Object(f.a)(),t=new N.a,a=Object(x.a)().settings,c=Object(i.useState)("activos"),y=Object(n.a)(c,2),w=y[0],S=y[1],C=Object(i.useState)([]),P=Object(n.a)(C,2),k=P[0],R=P[1],E=Object(i.useState)([]),A=Object(n.a)(E,2),M=A[0],I=A[1],L=Object(i.useState)([]),D=Object(n.a)(L,2),B=D[0],_=D[1];Object(i.useEffect)((function(){g.a.push({event:"page_view"})}),[]);var z=Object(i.useCallback)(Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.getAllUsers().then((function(e){var t=[],a=[];e.forEach((function(e){"DRV"===e.role_id&&"REV"===e.status_id?t.push(e):"DRV"===e.role_id&&"ACT"===e.status_id&&a.push(e)})),console.log("SOLICITUDES",t),R(a),_(t)})),I([])}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)}))),[e]);return Object(i.useEffect)((function(){z()}),[z]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(l.a,{children:Object(U.jsx)("title",{children:"Dashboard: Drivers | Mac Admin"})}),Object(U.jsx)(u.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:8},children:Object(U.jsxs)(d.a,{maxWidth:!!a.compact&&"xl",children:[Object(U.jsx)(b.a,{container:!0,justifyContent:"space-between",spacing:3,children:Object(U.jsxs)(b.a,{item:!0,children:[Object(U.jsx)(j.a,{color:"textPrimary",variant:"h5",children:"Lista de Drivers"}),Object(U.jsxs)(p.a,{"aria-label":"breadcrumb",separator:Object(U.jsx)(m.a,{fontSize:"small"}),sx:{mt:1},children:[Object(U.jsx)(h.a,{color:"textPrimary",component:o.b,to:"/dashboard",variant:"subtitle2",children:"Dashboard"}),Object(U.jsx)(j.a,{color:"textSecondary",variant:"subtitle2",children:"Lista de Drivers"})]})]})}),Object(U.jsxs)(u.a,{sx:{mt:3},children:[Object(U.jsx)(u.a,{sx:{mb:3},children:Object(U.jsx)(v.a,{indicatorColor:"primary",onChange:function(e,t){S(t)},scrollButtons:"auto",textColor:"primary",value:w,variant:"scrollable",children:q.map((function(e){return Object(U.jsx)(O.a,{label:e.label,value:e.value},e.value)}))})}),"activos"===w&&Object(U.jsx)(J,{customers:k}),"inactivos"===w&&Object(U.jsx)(J,{customers:M}),"solicitudes"===w&&Object(U.jsx)(J,{customers:B})]})]})})]})}},580:function(e,t,a){"use strict";var r=a(31),n=a(1),c=Object(r.a)(Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(n.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search");t.a=c},665:function(e,t,a){"use strict";var r=a(33),n=a(15),c=a(4),s=a(6),i=a(2),o=a(0),l=(a(128),a(11)),u=a(515),d=a(7),b=a(13),j=a(550),p=a(26),h=a(31),v=a(1),O=Object(h.a)(Object(v.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),f=a(532),m=Object(d.a)(f.a,{},{skipSx:!0})((function(e){var t=e.theme;return Object(i.a)({display:"flex",marginLeft:t.spacing(.5),marginRight:t.spacing(.5)},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":Object(i.a)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":Object(i.a)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:Object(p.c)(t.palette.grey[200],.12)}:{backgroundColor:Object(p.c)(t.palette.grey[600],.12)})})})),x=Object(d.a)(O)({width:24,height:16});var g=function(e){var t=e;return Object(v.jsx)("li",{children:Object(v.jsx)(m,Object(i.a)({focusRipple:!0},e,{styleProps:t,children:Object(v.jsx)(x,{styleProps:t})}))})},y=a(475),w=a(516);function S(e){return Object(y.a)("MuiBreadcrumbs",e)}var C=Object(w.a)("MuiBreadcrumbs",["root","ol","li","separator"]),P=Object(d.a)(j.a,{},{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,t){return Object(i.a)(Object(c.a)({},"& .".concat(C.li),t.li),t.root)}})({}),k=Object(d.a)("ol",{},{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,t){return t.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),R=Object(d.a)("li",{},{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,t){return t.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function E(e,t,a,r){return e.reduce((function(n,c,s){return s<e.length-1?n=n.concat(c,Object(v.jsx)(R,{"aria-hidden":!0,className:t,styleProps:r,children:a},"separator-".concat(s))):n.push(c),n}),[])}var A=o.forwardRef((function(e,t){var a=Object(b.a)({props:e,name:"MuiBreadcrumbs"}),c=a.children,d=a.className,j=a.component,p=void 0===j?"nav":j,h=a.expandText,O=void 0===h?"Show path":h,f=a.itemsAfterCollapse,m=void 0===f?1:f,x=a.itemsBeforeCollapse,y=void 0===x?1:x,w=a.maxItems,C=void 0===w?8:w,R=a.separator,A=void 0===R?"/":R,M=Object(s.a)(a,["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),I=o.useState(!1),L=Object(n.a)(I,2),D=L[0],B=L[1],_=Object(i.a)({},a,{component:p,expanded:D,expandText:O,itemsAfterCollapse:m,itemsBeforeCollapse:y,maxItems:C,separator:A}),z=function(e){var t=e.classes;return Object(u.a)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},S,t)}(_),T=o.useRef(null),N=o.Children.toArray(c).filter((function(e){return o.isValidElement(e)})).map((function(e,t){return Object(v.jsx)("li",{className:z.li,children:e},"child-".concat(t))}));return Object(v.jsx)(P,Object(i.a)({ref:t,component:p,color:"text.secondary",className:Object(l.a)(z.root,d),styleProps:_},M,{children:Object(v.jsx)(k,{className:z.ol,ref:T,styleProps:_,children:E(D||C&&N.length<=C?N:function(e){return y+m>=e.length?e:[].concat(Object(r.a)(e.slice(0,y)),[Object(v.jsx)(g,{"aria-label":O,onClick:function(){B(!0);var e=T.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],Object(r.a)(e.slice(e.length-m,e.length)))}(N),z.separator,A,_)})}))}));t.a=A},670:function(e,t,a){"use strict";var r=a(4),n=a(6),c=a(2),s=a(0),i=a(11),o=a(297),l=a(515),u=a(9),d=a(550),b=a(104),j=a(7),p=a(475),h=a(516);function v(e){return Object(p.a)("MuiInputAdornment",e)}var O=Object(h.a)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),f=a(13),m=a(1),x=Object(j.a)("div",{},{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var a=e.styleProps;return Object(o.a)(Object(c.a)({},t["position".concat(Object(u.a)(a.position))],!0===a.disablePointerEvents&&t.disablePointerEvents,t[a.variant]),t.root||{})}})((function(e){var t=e.theme,a=e.styleProps;return Object(c.a)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:t.palette.action.active},"filled"===a.variant&&Object(r.a)({},"&.".concat(O.positionStart,"&:not(.").concat(O.hiddenLabel,")"),{marginTop:16}),"start"===a.position&&{marginRight:8},"end"===a.position&&{marginLeft:8},!0===a.disablePointerEvents&&{pointerEvents:"none"})})),g=s.forwardRef((function(e,t){var a=Object(f.a)({props:e,name:"MuiInputAdornment"}),r=a.children,o=a.className,j=a.component,p=void 0===j?"div":j,h=a.disablePointerEvents,O=void 0!==h&&h,g=a.disableTypography,y=void 0!==g&&g,w=a.position,S=a.variant,C=Object(n.a)(a,["children","className","component","disablePointerEvents","disableTypography","position","variant"]),P=Object(b.b)()||{},k=S;S&&P.variant,P&&!k&&(k=P.variant);var R=Object(c.a)({},a,{hiddenLabel:P.hiddenLabel,size:P.size,disablePointerEvents:O,position:w,variant:k}),E=function(e){var t=e.classes,a=e.disablePointerEvents,r=e.hiddenLabel,n=e.position,c=e.size,s=e.variant,i={root:["root",a&&"disablePointerEvents",n&&"position".concat(Object(u.a)(n)),s,r&&"hiddenLabel",c&&"size".concat(Object(u.a)(c))]};return Object(l.a)(i,v,t)}(R);return Object(m.jsx)(b.a.Provider,{value:null,children:Object(m.jsx)(x,Object(c.a)({as:p,styleProps:R,className:Object(i.a)(E.root,o),ref:t},C,{children:"string"!==typeof r||y?Object(m.jsxs)(s.Fragment,{children:["start"===w?Object(m.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):null,r]}):Object(m.jsx)(d.a,{color:"text.secondary",children:r})}))})}));t.a=g},898:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a(22),n=a(19),c=a(18),s=a(12),i=a.n(s),o=a(219),l=a.n(o),u=a(145),d=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"ws",get:function(){var e=new u.a;return l.a.create({baseURL:e.URL_DEV,headers:e.headerToken()})}},{key:"getAllDrivers",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/drivers",e.next=3,this.ws.get("/drivers");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllUsers",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/users",e.next=3,this.ws.get("/users");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDriverById",value:function(){var e=Object(r.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/drivers/".concat(t),e.next=3,this.ws.get(a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserById",value:function(){var e=Object(r.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/users/".concat(t),e.next=3,this.ws.get(a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStatusDriver",value:function(){var e=Object(r.a)(i.a.mark((function e(t,a){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/users/".concat(t),e.next=3,this.ws.put(r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()}}]);
//# sourceMappingURL=38.6758626f.chunk.js.map